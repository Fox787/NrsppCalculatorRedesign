function filterByString(e){e?mixer.filter('[class*="'+e+'"]'):mixer.filter("all")}var container=document.querySelector('[data-ref="container"]'),inputSearch=document.querySelector('[data-ref="input-search"]'),keyupTimeout,filterTopicDropdown=document.getElementById("filter-top-dropdown"),filterTopicDropdownTypes=document.getElementById("filter-top-dropdown-types"),filterTopicDropdownModes=document.getElementById("filter-top-dropdown-modes"),filterResourceNrsppPriority=document.getElementById("filter-resource-nrspp-priority"),filterResourceNonNrspp=document.getElementById("filter-resource-non-nrspp"),loadFilterDropdown="all",filter_check=!1,filter_items=[];if(filterTopicDropdown){var selectedFilterDropdown=filterTopicDropdown.options[filterTopicDropdown.selectedIndex].value;filter_check=!0,console.log("Topic dropdown exists and is set to: "+selectedFilterDropdown)}if(filterTopicDropdownTypes){var selectedFilterDropdownTypes=filterTopicDropdownTypes.options[filterTopicDropdownTypes.selectedIndex].value;filter_check=!0,console.log("Types dropdown exists and is set to: "+selectedFilterDropdownTypes)}if(filterTopicDropdownModes){var selectedFilterDropdownModes=filterTopicDropdownModes.options[filterTopicDropdownModes.selectedIndex].value;filter_check=!0,console.log("Modes dropdown exists and is set to: "+selectedFilterDropdownModes)}filter_check?(console.log("Filtering enabled!"),""!=selectedFilterDropdown&&filter_items.push(selectedFilterDropdown),""!=selectedFilterDropdownTypes&&filter_items.push(selectedFilterDropdownTypes),""!=selectedFilterDropdownModes&&filter_items.push(selectedFilterDropdownModes),console.log("Filter Items array is set to: "+filter_items),filter_items[0]?(console.log("Will filter off first priority item: "+filter_items[0]),loadFilterDropdown=filter_items[0]):console.log("No values set in the filter dropdowns so going with 'all'")):console.log("Filtering disabled, load filter set to:"+loadFilterDropdown),filterResourceNrsppPriority&&filterResourceNrsppPriority.checked&&(loadFilterDropdown=".nrspp-priority"),filterResourceNonNrspp&&filterResourceNonNrspp.checked&&(loadFilterDropdown=".non-nrspp"),console.log(loadFilterDropdown);var mixer=mixitup(container,{animation:{duration:350},multifilter:{enable:!0},callbacks:{onMixStart:function(e,o){document.getElementById("resource-counter")&&(document.getElementById("resource-counter").innerHTML=e.totalShow)},onMixClick:function(){this.matches("[data-filter]")&&(inputSearch.value="")},onMixEnd:function(e){document.getElementById("resource-counter")&&(document.getElementById("resource-counter").innerHTML=e.totalShow)}},load:{filter:loadFilterDropdown}});filterResourceNrsppPriority&&filterResourceNrsppPriority.checked&&mixer.filter(".nrspp-priority"),filterResourceNonNrspp&&filterResourceNonNrspp.checked&&mixer.filter(".non-nrspp"),filter_check&&mixer.filter(loadFilterDropdown),inputSearch.addEventListener("keyup",function(){var e;e=inputSearch.value.length<3?"":inputSearch.value.toLowerCase().trim(),clearTimeout(keyupTimeout),keyupTimeout=setTimeout(function(){filterByString(e)},350)});